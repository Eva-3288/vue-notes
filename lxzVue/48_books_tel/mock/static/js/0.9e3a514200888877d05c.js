webpackJsonp([0],{"+Djq":function(e,t){},"5zde":function(e,t,n){n("zQR9"),n("qyJz"),e.exports=n("FeBl").Array.from},G5mx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Xxa5"),o=n.n(r),s=n("Gu7T"),a=n.n(s),i=n("exGp"),c=n.n(i),l=n("D18d"),u=n("gyMJ"),f={name:"add",data:function(){return{lists:[],hasMore:!0,offset:0,loading:!1}},components:{mHeader:l.a},created:function(){this.getMoreData()},mounted:function(){var e=this,t=this.$refs.scroll,n=t.offsetTop;t.addEventListener("touchstart",function(r){if(0==t.scrollTop&&t.offsetTop==n){var o=r.touches[0].pageY,s=0,a=function e(r){var a=r.touches[0].pageY;(s=a-o)>0?s<=120?t.style.top=n+s+"px":(s=120,t.style.top=n+s+"px"):(t.removeEventListener("touchmove",e),t.removeEventListener("touchend",i))},i=function r(o){clearInterval(i);var i=setInterval(function(){s-=1,t.style.top=n+s+"px",s<=0&&(clearInterval(i),t.removeEventListener("touchmove",a),t.removeEventListener("touchend",r),e.lists=[],e.offset=0,e.getMoreData())},2)};t.addEventListener("touchmove",a),t.addEventListener("touchend",i)}},!1)},methods:{getMoreData:function(){var e=this;return c()(o.a.mark(function t(){var n,r,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.hasMore||e.loading){t.next=11;break}return e.loading=!0,t.next=4,Object(u.e)(e.offset);case 4:n=t.sent,r=n.hasMore,s=n.books,e.lists=[].concat(a()(e.lists),a()(s)),e.hasMore=r,e.loading=!1,e.offset=e.lists.length;case 11:case"end":return t.stop()}},t,e)}))()},more:function(){this.getMoreData()},scrollMore:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){var t=e.$refs.scroll;t.scrollTop+t.clientHeight+20>t.scrollHeight&&e.getMoreData()},25)},del:function(e){var t=this;return c()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.f)(e);case 2:t.lists=t.lists.filter(function(t){return t.id!==e});case 3:case"end":return n.stop()}},n,t)}))()}}},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("mHeader",[e._v("列表页")]),e._v(" "),n("div",{ref:"scroll",staticClass:"content",on:{scroll:e.scrollMore}},[n("ul",[e._l(e.lists,function(t,r){return n("router-link",{key:r,attrs:{to:{name:"detail",params:{bookid:t.id}},tag:"li"}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img,expression:"item.img"}],attrs:{alt:""}}),e._v(" "),n("div",[n("p",{staticClass:"name"},[e._v(e._s(t.name))]),e._v(" "),n("p",{staticClass:"info"},[e._v(e._s(t.info))]),e._v(" "),n("p",{staticClass:"price"},[e._v("￥"+e._s(t.price))]),e._v(" "),n("button",{staticClass:"delBtn",on:{click:function(n){return n.stopPropagation(),e.del(t.id)}}},[e._v("删 除")])])])}),e._v(" "),e.hasMore?n("li",{on:{click:e.more}},[e._v("加载更多...")]):e._e()],2)])],1)},staticRenderFns:[]};var d=n("VU/8")(f,v,!1,function(e){n("+Djq")},"data-v-68b409a5",null);t.default=d.exports},Gu7T:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n("c/Tr"),s=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,s.default)(e)}},"c/Tr":function(e,t,n){e.exports={default:n("5zde"),__esModule:!0}},fBQ2:function(e,t,n){"use strict";var r=n("evD5"),o=n("X8DO");e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},qyJz:function(e,t,n){"use strict";var r=n("+ZMJ"),o=n("kM2E"),s=n("sB3e"),a=n("msXi"),i=n("Mhyx"),c=n("QRG4"),l=n("fBQ2"),u=n("3fs2");o(o.S+o.F*!n("dY0y")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,v=s(e),d="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,p=void 0!==m,_=0,g=u(v);if(p&&(m=r(m,h>2?arguments[2]:void 0,2)),void 0==g||d==Array&&i(g))for(n=new d(t=c(v.length));t>_;_++)l(n,_,p?m(v[_],_):v[_]);else for(f=g.call(v),n=new d;!(o=f.next()).done;_++)l(n,_,p?a(f,m,[o.value,_],!0):o.value);return n.length=_,n}})}});
//# sourceMappingURL=0.9e3a514200888877d05c.js.map